/*!
 * New Site BNI v1.0.0 (http://www.groupeimaya.net)
 * Copyright 2017-2023 Fawaz Bouraima
 * Licensed under the GPL-2.0-or-later license
*/ function chargerListeDevises(e,t){$.ajax({url:"https://api.exchangerate-api.com/v4/latest/EUR",type:"GET",dataType:"json",success:function(i){let a=i.rates;$.ajax({url:"https://openexchangerates.org/api/currencies.json",type:"GET",dataType:"json",success:function(i){let n=$("#"+e),o=Object.keys(a);for(let l in o.includes(t),a)if(a.hasOwnProperty(l)&&i.hasOwnProperty(l)){let c=i[l],u=a[l],p=$("<option>").val(u).text(l+" - "+c);l===t&&p.attr("selected","selected"),n.append(p)}n.trigger("change")},error:function(){alert("Une erreur s'est produite lors du chargement des noms de devises.")}})},error:function(){alert("Une erreur s'est produite lors du chargement de la liste des devises.")}})}function date_time(e){return year=(date=new Date).getFullYear(),month=date.getMonth(),months=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","Decembre"],d=date.getDate(),day=date.getDay(),days=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],(h=date.getHours())<10&&(h="0"+h),(m=date.getMinutes())<10&&(m="0"+m),(s=date.getSeconds())<10&&(s="0"+s),result=""+days[day]+" "+d+" "+months[month]+"  "+year,document.getElementById(e).innerHTML=result,setTimeout('date_time("'+e+'");',"1000"),!0}function EnterPress(e,t){$(e+" form#"+t+" input.form-control").keypress(function(e){var t=$(this).closest(".setup-content");return(!e.which||13!=e.which)&&(!e.keyCode||13!=e.keyCode)||($("#"+t.attr("id")+" .nextBtn").trigger("click"),!1)})}function centerMapOnCountry(e,t){new google.maps.Geocoder().geocode({address:t},function(t,i){i==google.maps.GeocoderStatus.OK&&(e.setCenter(t[0].geometry.location,17),e.fitBounds(t[0].geometry.bounds))})}function addToolTip(e){var t=e.item;infowindow&&infowindow.close();var i='<div class="gMapInfo" id="gMapInfo">';if(i+='	<div class="name">'+t.name+"</div>",i+='	<div class="adresse">'+t.adr1+"</div>",null!=t.adr2&&""!=t.adr2&&(i+='	<div class="adresse">'+t.adr2+"</div>"),null!=t.cp&&""!=t.cp&&(i+='	<div class="adresse">'+t.cp+" "+t.ville+"</div>"),null!=t.description&&""!=t.description&&(i+='	<div class="adresse">'+t.description+"</div>"),null!=t.horaire&&""!=t.horaire&&(i+='	<div class="Horaire"><i></i><span>'+t.horaire+"</span></div><br/>"),null!=t.tel&&""!=t.tel&&(i+='	<div class="tel fa fa-phone-square fa-1x">'+t.tel+"</div><br/>"),null!=t.mail&&""!=t.mail&&(i+='	<div class="mail"><i>@</i><span>'+t.mail+"<span></div>"),t.site){var a="";-1==t.site.indexOf("http")&&(a="http://"),-1!=t.site.indexOf(" - - ")?i+='	<div class="web"><strong>Web :</strong> <a href="'+a+(res=t.site.split(" - - "))[0]+'" target="_blank">'+res[1]+"</a></div>":i+='	<div class="web"><strong>Web :</strong> <a href="'+a+t.site+'" target="_blank">'+t.site+"</a></div>"}i+="</div>",(infowindow=new google.maps.InfoWindow({content:i})).open(map,e),map.setZoom(17),map.setCenter(e.getPosition())}function initialize(){for(var e=[],t=0;t<implantationsList.length;t++){var i=implantationsList[t],a=new google.maps.Marker({map:map,icon:"images/gmap_marker.png",active:"images/gmap_marker_active.png",position:new google.maps.LatLng(i.coordY,i.coordX),title:i.name,myLink:i.link,item:i});a.addListener("click",function(){addToolTip(this)}),a.addListener("change",function(){addToolTip(this)}),markersList["bni"+i.uid]=a,e.push(a)}}function isScrolledIntoView(e){var t=$(window);return e.offset().top+e.outerHeight()>=t.scrollTop()&&e.offset().top<=t.scrollTop()+t.height()}function lazyInit(e,t){jQuery(window).on("load scroll",function(){!e.hasClass("lazy-loaded")&&isScrolledIntoView(e)&&(t.call(),e.addClass("lazy-loaded"))})}function Convert_Valeur(e,t){var i=parseFloat($("#champ_devise"+e).val()),a=parseFloat($("#devise"+e+" option:selected").val()),n=parseFloat($("#devise"+t).val()),o="";a>0&&(o=n/a*i);var l=String(o=formatte(o)).split(".");o=l[0],r=0,2==l.length&&(o=o+","+(r=(r=l[1]).substring(0,6))),$("#champ_devise"+t).val(o)}function formatte(e){if(isNaN((valeur=(valeur=String(e)).replace(" ","")).split(" ").join("")))return valeur;var t=[],i=valeur.split(".");valeur=(valeur=i[0].split(" ").join("")).split("").reverse();for(var a=0;a<valeur.length;)t.push((valeur[a+2]?valeur[a+2]:"")+(valeur[a+1]?valeur[a+1]:"")+valeur[a]),a+=3;return t.reverse().join(" ")+(i[1]&&i[1].length>0?"."+i[1]:"")}function VerifierNombre(e,t,i,a){a="La zone "+a+" n'a pas une donnee correcte : "+$("#"+e).val();for(var n=$("#"+e).val(),o=0;o<n.length;o++){var l=n.substring(o,o+1);if((l<"0"||"9"<l)&&"."!=l)return alert(a),!1}var c=parseFloat(n);return c<t||i<c?(alert(a+" n'est pas compris entre ["+t+".."+i+"]"),!1):($("#"+e).val(n),!0)}function numberWithSpaces(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function floatWithSpaces(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),t.join(".")}function getBrvm(){var e,t="";$.get("https://easytrade.bnifinances.ci/BNIFinancesServer/Service.svc/GetMarketSnapshot",function(i){i&&i.Ticker&&($.each(i.Ticker,function(i,a){e=a.var>=0?"fa fa-arrow-up text-success":"fa fa-arrow-down text-danger",a.var=a.var.toFixed(2),t+='<span style="padding:0px 10px;display:inline-block;color:#fff">'+a.Titre+" &nbsp;&nbsp; "+numberWithSpaces(a.prix)+" &nbsp;&nbsp;"+a.var+' <i class="'+e+'"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6c6d6e">|</span></span>'}),$("#brvm").html(t))})}function SelectValues(e,t){if(!("object"==typeof e?e:$(e)).length)return"";var i="";return void 0===t&&(t=","),$(e+" option:selected").each(function(){i&&(i+=t),i+=$(this).val()}),i}$("document").ready(function(){if(date_time("today_date"),getBrvm(),$("#BannerSlidert:visible").length){var e=$("#myCarousel");new bootstrap.Carousel(e,{interval:4e3,wrap:!1})}if($("#popup-start:visible").length&&"true"!==$.cookie("BniHomepopupDisplayed")){var t=$(".bni-popup-start").data("imglink");$(".bni-popup-start").attr("href"),$(".bni-popup-start").attr("alt"),$.magnificPopup.open({type:"image",closeOnBgClick:!1,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",closeMarkup:'<button type="button" class="btn btn-warning btn_intro mfp-close">Passer l\'intro</button>',image:{verticalFit:!0},zoom:{enabled:!0,duration:300},items:{src:'<img src="'+t+'"/>',type:"inline"}}),$.cookie("BniHomepopupDisplayed","true",{expires:1})}if($("#left-internal-sidebar").length&&$(".left-static-menu-link").each(function(){var e=$(this).attr("href"),t=$(this).find(".left-menu-static-title").text().trim();-1!==window.location.href.indexOf(e)||t===document.title?$(this).addClass("active"):$(this).removeClass("active")}),$("#offre-row:visible").length&&$(".actu-offre-card").click(function(e){e.preventDefault();var t=$(this).data("imglink");$.magnificPopup.open({type:"image",closeOnContentClick:!0,closeBtnInside:!0,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{titleSrc:function(e){console.log(e.el.find(".actu-offre-card").attr("title"))},verticalFit:!0},zoom:{enabled:!0,duration:300},items:{src:'<img src="'+t+'"/>',type:"inline"}})}),$("#isote-product:visible").length&&($(".filtering").on("click","span",function(){var e=$(".gallery").isotope({}),t=$(this).attr("data-filter");e.isotope({filter:t})}),$(".filtering").on("click","span",function(){$(this).addClass("active").siblings().removeClass("active")})),$("#main-publication:visible").length){function i(e){let t=$("<li></li>"),i=$("<a></a>").addClass("page-link").attr("href","#").text(e);return t.append(i),t}function a(e,t,i){let a=(i-1)*t,n=a+t;e.each((e,t)=>{e>=a&&e<n?$(t).show():$(t).hide()})}!function e(t,n,o){let l=$(n),c=$(o).find("ul"),u=l.children(),p=Math.ceil(u.length/t);for(let v=1;v<=p;v++){let f=i(v);c.append(f)}a(u,t,1),c.on("click","a",e=>{e.preventDefault();let i=parseInt($(e.target).text());a(u,t,i),c.find(".active").removeClass("active"),$(e.target).parent().addClass("active")})}(8,"#publication-row","#pagination-data-container")}return($("#mainmap_reseau:visible").length&&(initMap(),$("#sous_collapse1 .list-group-item .sousville a").click(function(){var e=markersList[$(this).attr("id")];return new google.maps.event.trigger(e,"click"),$(".panel-title a").addClass("collapsed"),$("#sous_collapse1").removeClass("in"),$("#sous_collapse1").css("height","0px"),$.scrollTo($("#mainmap_reseau"),"slow"),!1})),$("#mainmapmobile:visible").length&&(initialize(),$(".cadre_agence a").click(function(){var e=markersList[$(this).attr("id")];return new google.maps.event.trigger(e,"click"),$.scrollTo($("#mainmapmobile"),"slow"),!1})),$("#main-convertisseur:visible").length)?(chargerListeDevises("devise1","EUR"),chargerListeDevises("devise2","XOF"),$(document).ajaxStop(function(){Convert_Valeur(1,2)}),$(".block-vacation #devise1").change(function(){var e=$(".block-vacation #devise1 option:selected").text();e=(e=e.replace("'","'")).split(" - ")[0],$(".block-vacation #lib_devise1").html(e),Convert_Valeur(1,2)}),$(".block-vacation #devise2").change(function(){var e=$(".block-vacation #devise2 option:selected").text();e=(e=e.replace("'","'")).split(" - ")[0],$(".block-vacation #lib_devise2").html(e),Convert_Valeur(1,2)}),$(".block-vacation #champ_devise1").keyup(function(){Convert_Valeur(1,2)}),$(".block-vacation #champ_devise2").keyup(function(){Convert_Valeur(2,1)}),$(".block-vacation #devise2").on("change",function(){}),!1):$(".block-vacation form #CoutPret").length?($(".block-vacation form #montant_f").on("keyup",function(){$(".block-vacation form #montant").val($(this).val().replace(/ /g,"")),this.value=this.value.replace(/ /g,"");var e=this.value;this.value=e.replace(/\B(?=(\d{3})+(?!\d))/g," ")}),jQuery(".block-vacation form input:button").bind("click",function(){if(!$("form #montant").TestVide())return Msg_Erreur("Veuillez svp saisir le champ <b>Montant du credit</b>.",".block-vacation form #montant",1);if(!$("form #montant").TestNumeric())return Msg_Erreur("Veuillez svp saisir une valeur numerique pour le champ <b>Montant du credit</b>.",".block-vacation form #montant",1);if(!$(".block-vacation form #mensualite").TestVide())return Msg_Erreur("Veuillez svp saisir le champ <b>Nombre de Mensualites</b>.",".block-vacation form #mensualite",1);if(!$("form #mensualite").TestEntier())return Msg_Erreur("Veuillez svp saisir une valeur entiere pour le champ <b>Nombre de Mensualites</b>.",".block-vacation form #taux_interet",1);if(!$(".block-vacation form #taux_interet").TestVide())return Msg_Erreur("Veuillez svp saisir le champ <b>Taux d'interet</b>.",".block-vacation form #taux_interet",1);if(!$("form #taux_interet").TestNumeric())return Msg_Erreur("Veuillez svp saisir une valeur numerique pour le champ <b>Taux d'interet</b>.",".block-vacation form #taux_interet",1);if(!VerifierNombre("mensualite",1,480,"Nombre de mensualites")||!VerifierNombre("taux_interet",.001,99,"taux d'interet")||!VerifierNombre("montant",100,3e13,"Montant du credit")){$(".block-vacation form #CoutPret").val(""),$(".block-vacation form #echeance").val("");return}var e=$(".block-vacation form #taux_interet").val();e>1&&(e/=100,$(".block-vacation form #taux_interet").val(e)),e/=12;for(var t=1,i=0;i<$(".block-vacation form #mensualite").val();i++)t*=1+e;var a=$(".block-vacation form #montant").val()*t*e/(t-1);a=formatte(a=a.toFixed(2)),$(".block-vacation form #echeance").val(a);var n=$(".block-vacation form #montant").val()*t*e/(t-1)*$(".block-vacation form #mensualite").val()-$(".block-vacation form #montant").val();n=formatte(n=n.toFixed(2)),$(".block-vacation form #CoutPret").html(n)}),!1):void 0});